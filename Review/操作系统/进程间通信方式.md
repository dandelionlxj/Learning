## 1，管道

​      1，匿名管道：

​                 概念：在内核中申请一块固定大小的缓冲区，程序拥有写入和读取的权利，一般使用fork函数实现父子进程的通信。

​                            ![img](https://img-blog.csdn.net/20180904120911270?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dtMTIzNDU2NDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

​      2，命名管道： 

​                  概念：在内核中申请一块固定大小的缓冲区，程序拥有写入和读取的权利，没有血缘关系的进程也可以进程间通信。

​                                 ![img](https://img-blog.csdn.net/20180904121027547?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dtMTIzNDU2NDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

​      3，特点：

 

​                1，面向字节流，

​                2，生命周期随内核

​                3，自带同步互斥机制。

​                4，半双工，单向通信，两个管道实现双向通信。

 

## 2，消息队列

  1，概念：在内核中创建一队列，队列中每个元素是一个数据报，不同的进程可以通过句柄去访问这个队列。

​                 消息队列提供了⼀个从⼀个进程向另外⼀个进程发送⼀块数据的⽅法。

​                  每个数据块都被认为是有⼀个类型，接收者进程接收的数据块可以有不同的类型值                          

​                               ![img](https://img-blog.csdn.net/20180904122258109?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dtMTIzNDU2NDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

​                  消息队列也有管道⼀样的不⾜，就是每个消息的最⼤⻓度是有上限的（MSGMAX），

​                  每个消息队 列的总的字节数是有上限的（MSGMNB），系统上消息队列的总数也有⼀个上限（MSGMNI）

​    2，特点：

​              1， 消息队列可以认为是一个全局的一个链表，链表节点钟存放着数据报的类型和内容，有消息队列的标识符进行标记。

​              2，消息队列允许一个或多个进程写入或者读取消息。

​              3，消息队列的生命周期随内核。

​              4，消息队列可实现双向通信。

## 3，信号量     

​        1，概念

​                      在内核中创建一个信号量集合（本质是个数组），数组的元素（信号量）都是1，使用P操作进行-1，使用V操作+1，

​                      （1） P(sv)：如果sv的值⼤大于零，就给它减1；如果它的值为零，就挂起该进程的执⾏ 。
​                      （2） V(sv)：如果有其他进程因等待sv而被挂起，就让它恢复运⾏，如果没有进程因等待sv⽽挂起，就给它加1。

​                           PV操作用于同一进程，实现互斥。

​                          PV操作用于不同进程，实现同步。

​         2，功能：

​                        对临界资源进行保护。       

## 4，共享内存      

​       1，概念：

​                  将同一块物理内存一块映射到不同的进程的虚拟地址空间中，实现不同进程间对同一资源的共享。

​                  共享内存可以说是最有用的进程间通信方式，也是最快的IPC形式。

​        2，特点：

​                 1，不用从用户态到内核态的频繁切换和拷贝数据，直接从内存中读取就可以。

​                 2，共享内存是临界资源，所以需要操作时必须要保证原子性。使用信号量或者互斥锁都可以。

​                 3，生命周期随内核。     